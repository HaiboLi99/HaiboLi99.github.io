<!-- ğŸš€ ä¸€å®šè¦æ”¾åœ¨ä»»ä½• <link rel="stylesheet"> ä¹‹å‰ -->
<head>
  <script>
    (function () {
      try {
        // 1. å…ˆè¯» localStorage  
        const saved = localStorage.getItem('theme');
        // 2. å¦‚æœæ²¡å­˜ï¼Œåˆ™æ ¹æ®ç³»ç»Ÿåå¥½åˆ¤æ–­
        const auto = window.matchMedia && window.matchMedia('(prefers-color-scheme: light)').matches;
        const theme = saved || (auto ? 'light' : 'dark');
        // 3. ç›´æ¥ç»™ <html> å’Œ <body> éƒ½åŠ ä¸Šä¸»é¢˜ç±»
        document.documentElement.classList.add(theme + '-theme');
        document.body.classList.add(theme + '-theme');
      } catch (e) {
        document.documentElement.classList.add('dark-theme');
        document.body.classList.add('dark-theme');
      }
    })();
  </script>

  <!-- ä¸‹é¢æ‰æ˜¯ä½ çš„å¸¸è§„ head å†…å®¹ -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{{ page.title }} | {{ site.title }}</title>
  <link rel="stylesheet" href="{{ '/assets/css/main.css' | relative_url }}">
  <!-- â€¦ å…¶ä»– head æ ‡ç­¾ â€¦ -->
</head>


<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id={{ site.google_tag_manager }}"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->


<nav class="navbar sticky-top navbar-expand-md navbar-dark bg-dark">
  <a class="navbar-brand" href="{{ site.url }}{{ site.baseurl }}/">
    <img src="{{ site.url }}{{ site.baseurl }}/favicon.ico" width="40" height="40" style="margin-right:5px" class="d-inline-block align-top" alt="">
    <span style="font-size: 30px;">{{ site.title | escape }}</span>
  </a>
  <button class="toggler navbar-toggler collapsed" type="button" data-bs-toggle="collapse"
    data-bs-target="#navbarColor02" aria-controls="navbarColor02" aria-expanded="false"
    aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="navbarColor02">
    <!-- âœ… å·¦ä¾§å¯¼èˆªé“¾æ¥ -->
    <div class="navbar-nav mr-auto">
      <a class="nav-item nav-link" href="{{ site.url }}{{ site.baseurl }}/">Home</a>
      {% for page in site.nav_pages %}
        <a class="nav-item nav-link" href="{{ site.url }}{{ site.baseurl }}/{{page.name}}">{{page.name | capitalize }}</a>
      {% endfor %}
    </div>

    <!-- âœ… å³ä¾§åˆ‡æ¢æŒ‰é’® -->
    <div class="navbar-nav ml-auto">
        <button id="theme-toggle-btn" class="theme-toggle-btn" onclick="toggleTheme()">ğŸŒ™</button>
    </div>
  </div>
</nav>


<style>
  .theme-toggle-btn {
    border: none !important;
    background: transparent !important;
    font-size: 1.3em;
    padding: 4px 10px;
    cursor: pointer;
    color: inherit;
    transition: transform 0.2s ease;
  }

  .theme-toggle-btn:hover {
    transform: scale(1.15);
    text-shadow: 0 0 1px rgba(0, 0, 0, 0.2);
  }
</style>

